<!DOCTYPE HTML>
<!--[if IE 8 ]><html lang="en" class="ie8"><![endif]-->
<!--[if IE 9 ]><html lang="en" class="ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->
<html lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<title>A Global Look at Suicide Crisis</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<!--[if lt IE 9]>
	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
	<![endif]-->

	<!-- FOR jquery.bgpos.js -->
	<script type="text/javascript" src="js/jquery-1.8.2.min.js"></script>

	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

	<!-- Google CDN jQuery -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

	<script src="js/slippry.min.js"></script>
	<link rel="stylesheet" href="css/slippry.css" />
	<link rel="stylesheet" href="css/style.css">

	<script type="text/javascript" src="js/jquery.bgpos.js"></script>
</head>
<body>
	<nav id="navigation-menu">
		<ul>
			<li><a href="#section-1">01</a></li>
			<li><a href="#section-2">02</a></li>
			<li><a href="#section-3">03</a></li>
			<li><a href="#section-4">04</a></li>
		</ul>
	</nav>
	<div id="content">
		<section id="section-0">
			<div class="section-0-wrapper">
				<div class="bg-light"></div>
				<div class="bg-skull"></div>
				<div class="content">
					<h2 class="bg-txt">1976-2016</h2>
					<h2 class="slogan">A GLOBAL LOOK AT</h2>
					<h2>SUICIDE CRISIS</h2>
					<div class="next">
						<img src="image/arrow-down.svg" class="next" />
						<a href="#section-1" class="__mPS2id _mPS2id-h mPS2id-highlight mPS2id-clicked mPS2id-highlight-first" rel="next" class="next">EXPLORE</a>
					</div>
				</div>
			</div>
		</section>
		<section id="section-1">
			<div class="content">
				<h2 class="bg-txt">01</h2>
				<h2 class="slogan">Data From Global Suicide</h2>
				<div class="circle-container">
					<div class="circle circle1">
						<h2 class="slogan">800,000</h2>
						<p>People suicide every year</p>
					</div>
					<div class="circle circle2">
						<p>Age</p>
						<h2 class="slogan">15-29</h2>
						<p>2nd leading cause of death</p>
					</div>
					<div class="circle circle3">
						<h2 class="slogan">79%</h2>
						<p>low & mid income</p>
					</div>
					<div class="circle circle4">
						<h2 class="slogan">20%</h2>
						<p>Self-Poisoning</p>
					</div>
				</div>
			</div>
		</section>
		<section id="section-2">
			<div class="content">
				<h2 class="bg-txt">02</h2>
				<h2 class="slogan">Who Is Commiting Suicide?</h2>
				<ul id="slippry">
				  <li>
				    <a href="#slide1"><img src="image/slide/slide-1.png" alt="Suicide and Generation Rates"></a>
				  </li>
				  <li>
				    <a href="#slide2"><img src="image/slide/slide-2.png"  alt="Suicide rates by sex and population over time"></a>
				  </li>
				  <li>
				    <a href="#slide3"><img src="image/slide/slide-3.png" alt="Suicide rate all over the world"></a>
				  </li>
				</ul>
		</section>
		<section id="section-3">
			<div class="content">
				<h2 class="bg-txt">03</h2>
				<h2 class="slogan">Closer Look at Top Countries</h2>
				<div class="cl-container">
					<div class="cl cl1">
						<h3>Region Name</h3>
						<div class="cl-content cl-content1">
							<div class="cl-map" id="cl-map">
							</div>
						</div>
					</div>
					<div class="cl cl2">
						<div class="cl-content cl-content2">
							<h3>Total Number</h3>
							<div class="cl-sub-content cl-total-number" id="cl-total-number">
							</div>
							<h3>Top 3 Ages</h3>
							<div class="cl-sub-content cl-ages" id="cl-ages">
							</div>
						</div>
					</div>
					<div class="cl cl3">
						<div class="cl-content cl-content3">
							<h3>Female vs Male</h3>
							<div class="cl-sub-content cl-gender" id="cl-gender">
							</div>
							<h3>Generation</h3>
							<div class="cl-sub-content cl-chart" id="cl-chart">
								<div class="doughnut">
									<canvas id="myChart"></canvas>
								</div>
								<div id="js-legend" class="chart-legend"></div>
							</div>
						<div>
					</div>
				</div>
			</div>
		</section>
		<section id="section-4">
			<div class="content">
				<h2 class="bg-txt">04</h2>
				<h2 class="slogan">Suicide Crisis in the U.S</h2>
				<img src="image/section-4.png">
			</div>
		</section>
	</div>

	<!-- Page Scroll to id plugin -->
	<script src="js/jquery.malihu.PageScroll2id.js"></script>

	<!-- Chart -->
	<script src="js/Chart.min.js"></script>

	<!-- Slider -->
	<script src="js/slippry.min.js"></script>

	<script>
		(function($){
			var values = {
				ru: {
					country: 'Russia',
					totalNumber: '1,209,742',
					ages: '<ol><li>35-54 years old</li><li>55-74 years old</li><li>25-34 years old</li></ol>',
					data: [470925, 51699, 275309, 119618],
					gender: '1:5',
					mappos: '-511 60',
					mapduration: 1000,
					maplink: 'image/map/ru.png'
				},
				us: {
					country: 'U.S.A',
					totalNumber: "1,034,013",

					ages: '<ol><li>35-54 years old</li><li>55-74 years old</li><li>25-34 years old</li></ol>',
					data: [354662, 89865, 253704, 104032],
					gender: '1:4',
					mappos: '-50 -14',
					mapduration: 1000,
					maplink: ''
				},
				jp: {
					country: 'Japan',
					totalNumber: '806,902',
					ages: '<ol><li>35-54 years old</li><li>55-74 years old</li><li>75+ years old</li></ol>',
					data: [241420, 90657, 133292, 42991],
					gender: '1:2',
					mappos: '-682 -20',
					mapduration: 1000,
					maplink: ''
				},
				fr: {
					country: 'France',
					totalNumber: '329,127',
					ages: '<ol><li>35-54 years old</li><li>55-74 years old</li><li>75+ years old</li></ol>',
					data: [110173, 50767, 52831, 11291],
					gender: '3:8',
					mappos: '-335 0',
					mapduration: 1000,
					maplink: ''
				},
				uk: {
					country: 'Ukraine',
					totalNumber: '319,950',
					ages: '<ol><li>35-54 years old</li><li>55-74 years old</li><li>25-34 years old</li></ol>',
					data: [116279, 24840, 58518, 21171],
					gender: '2:13',
					mappos: '-412 8',
					mapduration: 1000,
					maplink: ''
				}
			}

			$(window).on("load",function(){
				/* Page Scroll to id fn call */
				$("#navigation-menu a,a[href='#top'],a[rel='m_PageScroll2id']").mPageScroll2id({
					highlightSelector:"#navigation-menu a"
				});

				/* Doughnut chart initializing */
				var ctx = document.getElementById('myChart');
				var myChart = new Chart(ctx, {
				    type: 'doughnut',
						data: {
						    labels: ['Boomers', 'G.I. Generation', 'Generations X', 'Millenials'],
						    datasets: [{
						        label: '# of Votes',
						        data: values.ru.data,
						        backgroundColor: [
						            'rgba(38, 44, 97, 1)',
						            'rgba(81, 96, 177, 1)',
												'rgba(93, 76, 108, 1)',
												'rgba(157, 112, 175, 1)',
						        ],
						        borderWidth: 0
						    }]
						},
						options: {
							cutoutPercentage: 65,
							responsive: true,
							legend: {
								position: 'right',
								display: false
							},
							title: {
								display: false,
								text: 'Chart.js Doughnut Chart'
							},
							animation: {
								animateScale: true,
								animateRotate: true
							}
						}
				});

				var updateChart = function(val){
					var newVal = values[val];
					myChart.data.datasets[0].data = newVal.data;
					myChart.update();
					$('#cl-total-number').fadeOut(function(){$(this).text(newVal.totalNumber)}).fadeIn();
					$('#cl-ages').fadeOut(function(){$(this).html(newVal.ages)}).fadeIn();
					$('#cl-gender').fadeOut(function(){$(this).text(newVal.gender)}).fadeIn();
					$('#cl-map').stop().animate({backgroundPosition:newVal.mappos}, {duration:newVal.mapduration});
				};

				var addSelect = function(){
					var sel = $('<select>').addClass('select-css').prependTo('.cl-content1').change(function(){updateChart($(this).val())});
					$.each(values, function(i, val) {
						sel.append($("<option>").attr('value',i).text(this.country));
					});
				};
				addSelect();

				// custom legend display for the doughnut chart
				document.getElementById('js-legend').innerHTML = myChart.generateLegend();

				// initial country set when page loaded
				updateChart('ru');

			});

			// Initializing image slider
			$('#slippry').slippry();

		})(jQuery);
	</script>
</body>
</html>